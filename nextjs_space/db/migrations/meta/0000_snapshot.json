{
  "id": "40359299-a66e-4913-aa9a-3f3967ff933b",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership": {
          "name": "membership",
          "type": "membership",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "payment_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'whop'"
        },
        "status": {
          "name": "status",
          "type": "account_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_membership_id": {
          "name": "whop_membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_duration": {
          "name": "plan_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_end": {
          "name": "billing_cycle_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_credit_renewal": {
          "name": "next_credit_renewal",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "usage_credits": {
          "name": "usage_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "used_credits": {
          "name": "used_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "custom_limits": {
          "name": "custom_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "last_api_call": {
          "name": "last_api_call",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "api_calls_this_minute": {
          "name": "api_calls_this_minute",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "profiles_email_idx": {
          "name": "profiles_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "profiles_membership_idx": {
          "name": "profiles_membership_idx",
          "columns": [
            {
              "expression": "membership",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "profiles_status_idx": {
          "name": "profiles_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pending_profiles": {
      "name": "pending_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership": {
          "name": "membership",
          "type": "membership",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pro'"
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "payment_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'whop'"
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_membership_id": {
          "name": "whop_membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_duration": {
          "name": "plan_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_end": {
          "name": "billing_cycle_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "usage_credits": {
          "name": "usage_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "used_credits": {
          "name": "used_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "claimed": {
          "name": "claimed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "claimed_by_user_id": {
          "name": "claimed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pending_profiles_email_uq": {
          "name": "pending_profiles_email_uq",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pending_profiles_claimed_idx": {
          "name": "pending_profiles_claimed_idx",
          "columns": [
            {
              "expression": "claimed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trading_pairs": {
      "name": "trading_pairs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "exchange": {
          "name": "exchange",
          "type": "exchange",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'kraken'"
        },
        "kraken_pair": {
          "name": "kraken_pair",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "altname": {
          "name": "altname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wsname": {
          "name": "wsname",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base": {
          "name": "base",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quote": {
          "name": "quote",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_display": {
          "name": "base_display",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quote_display": {
          "name": "quote_display",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "pair_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "lot": {
          "name": "lot",
          "type": "numeric(18, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "pair_decimals": {
          "name": "pair_decimals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lot_decimals": {
          "name": "lot_decimals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lot_multiplier": {
          "name": "lot_multiplier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ordermin": {
          "name": "ordermin",
          "type": "numeric(18, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "trading_pairs_exchange_pair_uq": {
          "name": "trading_pairs_exchange_pair_uq",
          "columns": [
            {
              "expression": "exchange",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "kraken_pair",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trading_pairs_altname_idx": {
          "name": "trading_pairs_altname_idx",
          "columns": [
            {
              "expression": "altname",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trading_pairs_status_idx": {
          "name": "trading_pairs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trading_pairs_base_quote_idx": {
          "name": "trading_pairs_base_quote_idx",
          "columns": [
            {
              "expression": "base",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "quote",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exchange_pairs_cache": {
      "name": "exchange_pairs_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "exchange": {
          "name": "exchange",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'kraken'"
        },
        "kraken_pair": {
          "name": "kraken_pair",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "altname": {
          "name": "altname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base": {
          "name": "base",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quote": {
          "name": "quote",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "exchange_pairs_cache_exchange_pair_uq": {
          "name": "exchange_pairs_cache_exchange_pair_uq",
          "columns": [
            {
              "expression": "exchange",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "kraken_pair",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.watchlist_items": {
      "name": "watchlist_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "watchlist_id": {
          "name": "watchlist_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "kraken_pair": {
          "name": "kraken_pair",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "altname": {
          "name": "altname",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "timeframes": {
          "name": "timeframes",
          "type": "timeframe[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "strategies": {
          "name": "strategies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_threshold": {
          "name": "confidence_threshold",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_signal_at": {
          "name": "last_seen_signal_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "watchlist_items_watchlist_idx": {
          "name": "watchlist_items_watchlist_idx",
          "columns": [
            {
              "expression": "watchlist_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "watchlist_items_watchlist_pair_uq": {
          "name": "watchlist_items_watchlist_pair_uq",
          "columns": [
            {
              "expression": "watchlist_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "kraken_pair",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "watchlist_items_enabled_idx": {
          "name": "watchlist_items_enabled_idx",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "watchlist_items_watchlist_id_watchlists_id_fk": {
          "name": "watchlist_items_watchlist_id_watchlists_id_fk",
          "tableFrom": "watchlist_items",
          "tableTo": "watchlists",
          "columnsFrom": [
            "watchlist_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.watchlists": {
      "name": "watchlists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_confidence_threshold": {
          "name": "default_confidence_threshold",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "watchlists_owner_idx": {
          "name": "watchlists_owner_idx",
          "columns": [
            {
              "expression": "owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "watchlists_owner_name_uq": {
          "name": "watchlists_owner_name_uq",
          "columns": [
            {
              "expression": "owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "watchlists_active_idx": {
          "name": "watchlists_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.account_status": {
      "name": "account_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "suspended",
        "cancelled"
      ]
    },
    "public.direction_enum": {
      "name": "direction_enum",
      "schema": "public",
      "values": [
        "buy",
        "sell"
      ]
    },
    "public.exchange": {
      "name": "exchange",
      "schema": "public",
      "values": [
        "kraken"
      ]
    },
    "public.membership": {
      "name": "membership",
      "schema": "public",
      "values": [
        "free",
        "basic",
        "pro",
        "enterprise"
      ]
    },
    "public.pair_status": {
      "name": "pair_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "delisted"
      ]
    },
    "public.payment_provider": {
      "name": "payment_provider",
      "schema": "public",
      "values": [
        "stripe",
        "whop"
      ]
    },
    "public.risk_enum": {
      "name": "risk_enum",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high"
      ]
    },
    "public.signal_status_enum": {
      "name": "signal_status_enum",
      "schema": "public",
      "values": [
        "active",
        "closed",
        "expired"
      ]
    },
    "public.timeframe": {
      "name": "timeframe",
      "schema": "public",
      "values": [
        "1m",
        "5m",
        "15m",
        "1h",
        "4h",
        "1d",
        "1w",
        "1M"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}